!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).Collapse=t(e.React)}(this,function(e){"use strict";var t="default"in e?e.default:e;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let c="collapsed",s="collapsing",a="expanding",u="expanded",p="collapse-css-transition",f="div",y="0px";function d(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}return function(n){let{children:i,transition:h,style:b,render:O,elementType:g=f,isOpen:m,collapseHeight:v=y,onInit:w,onChange:j,className:P=p,addState:x,noAnim:D,overflowOnExpanded:E}=n,S=l(n,["children","transition","style","render","elementType","isOpen","collapseHeight","onInit","onChange","className","addState","noAnim","overflowOnExpanded"]),T=()=>"0px"===v?"hidden":"";const[k,A]=e.useReducer(e=>e+1,0);let C=e.useRef(),[N,R]=e.useState(0),q=e.useRef({collapse:m?u:c,style:{height:m?"":v,visibility:m?"":T()}}).current;e.useEffect(()=>{N&&H(j)},[N]);let H=(e,t={})=>{e&&(e.name,e(o({state:q.collapse,style:q.style},t)))};function I(){C.current&&(q.collapse=c,q.style={height:v,visibility:T()},A(),setTimeout(()=>R(Date.now),0))}function $(){C.current&&(q.collapse=u,q.style={height:"",visibility:""},A(),setTimeout(()=>R(Date.now),0))}function F(){return`${C.current.scrollHeight}px`}let z=q.collapse===u||q.collapse===a;!z&&m&&function(){if(C.current){if(D)return $();q.collapse=a,d(()=>{C.current&&q.collapse===a&&(q.style={height:F(),visibility:""},R(Date.now))})}}(),z&&!m&&function(){if(C.current){if(D)return I();q.collapse=s,q.style={height:F(),visibility:""},A(),d(()=>{C.current&&q.collapse===s&&(q.style={height:v,visibility:""},R(Date.now))})}}();let B=o({overflow:q.collapse===u&&E?"":"hidden",transition:h},b,{},q.style),G=g,J=e.useCallback(e=>{e&&(C.current=e,H(w,{node:e}))},[g]),K=x?`${P} --c-${q.collapse}`:P;return t.createElement(G,r({ref:J,style:B,onTransitionEnd:function({target:e,propertyName:t}){if(e===C.current&&"height"===t){let t=e.style.height;switch(q.collapse,q.collapse){case a:""===t||t===v||$();break;case s:""===t||t!==v||I()}}},className:K},S),"function"==typeof i?i(q.collapse):"function"==typeof O?O(q.collapse):i)}});
//# sourceMappingURL=Collapse.umd.es2015.js.map
