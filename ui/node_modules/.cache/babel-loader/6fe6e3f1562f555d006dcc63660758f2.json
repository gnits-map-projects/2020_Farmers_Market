{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaumudi\\\\Desktop\\\\project\\\\2020_Farmers_Market\\\\ui\\\\src\\\\components\\\\User\\\\listLocations.js\";\nimport React, { Component } from 'react';\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './UserHome.css';\nimport Select from 'react-select';\nvar locationOptions;\nvar result;\nvar i;\nvar tempJson;\nvar larray;\nexport default class ListLocations extends Component {\n  handleChange(selectedOption) {\n    console.log(selectedOption.value);\n    window.location.href = \"/cropsIn/\" + selectedOption.value + '/' + this.state.id;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.focus = () => {\n      console.log(this.selectRef);\n      this.selectRef.focus();\n    };\n\n    this.state = {\n      'locationOptions': [],\n      location: \"\",\n      'id': this.props.id\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    const url = 'http://localhost:9000/getLocations';\n    console.log(this.props.fid);\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'GET'\n    }).then(response => {\n      if (response.ok) {\n        result = response.json().then(result => {\n          console.log(result);\n          larray = result;\n          console.log(typeof larray);\n\n          for (i = 0; i < larray.length; i++) {\n            tempJson = {};\n            var tag1 = 'value';\n            var value1 = larray[i];\n            var tag2 = 'label';\n            var value2 = larray[i];\n            tempJson[tag1] = value1;\n            tempJson[tag2] = value2;\n            console.log(tempJson);\n            this.state.locationOptions[i] = tempJson;\n            console.log(locationOptions);\n          }\n\n          console.log(\"locationOptions\", this.state.locationOptions);\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Select, {\n      className: \"form-group\",\n      ref: ref => {\n        this.selectRef = ref;\n      },\n      defaultValue: \"Select Location\",\n      name: \"location\",\n      placeholder: \"Select Location...\",\n      options: this.state.locationOptions,\n      onMouseEnter: this.focus,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Kaumudi/Desktop/project/2020_Farmers_Market/ui/src/components/User/listLocations.js"],"names":["React","Component","Select","locationOptions","result","i","tempJson","larray","ListLocations","handleChange","selectedOption","console","log","value","window","location","href","state","id","constructor","props","focus","selectRef","bind","componentDidMount","url","fid","headers","Headers","append","fetch","method","then","response","ok","json","length","tag1","value1","tag2","value2","render","ref"],"mappings":"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","sourcesContent":["import React ,{ Component } from 'react';\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport './UserHome.css'\r\nimport Select from 'react-select';\r\n\r\nvar locationOptions\r\nvar result\r\nvar i\r\nvar tempJson\r\nvar larray\r\n\r\nexport default class ListLocations extends Component {\r\n  selectRef: ElementRef<*>;\r\n  focus = () => {\r\n    console.log(this.selectRef);\r\n    this.selectRef.focus();\r\n  };\r\n  \r\n  handleChange(selectedOption){\r\n    console.log(selectedOption.value)\r\n    window.location.href  = \"/cropsIn/\" + selectedOption.value +'/' +this.state.id;\r\n  }\r\n\r\n  constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            'locationOptions' : [],\r\n            location:\"\",\r\n            'id' : this.props.id\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n \r\n  componentDidMount(){\r\n    const url = 'http://localhost:9000/getLocations'\r\n    console.log(this.props.fid)\r\n    let headers = new Headers();\r\n\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('Accept', 'application/json');\r\n\r\n    headers.append('Access-Control-Allow-origin', url);\r\n    headers.append('Access-Control-Allow-Credentials', 'true');\r\n\r\n    headers.append('POST', 'GET');\r\n\r\n    fetch(url,{\r\n        headers: headers,\r\n        method: 'GET',\r\n    })\r\n    .then(response => {if(response.ok){\r\n    result = response.json()\r\n    .then(result => {\r\n      console.log(result)\r\n      larray = result\r\n      console.log(typeof larray)     \r\n     \r\n      for(i = 0; i < larray.length; i++ ){\r\n        tempJson = {}\r\n        var tag1 = 'value'\r\n        var value1 = larray[i]\r\n        var tag2 = 'label'\r\n        var value2 = larray[i]\r\n        tempJson[tag1] = value1\r\n        tempJson[tag2] = value2\r\n        console.log(tempJson)\r\n        this.state.locationOptions[i] = tempJson\r\n        console.log(locationOptions)\r\n      }\r\n      console.log(\"locationOptions\", this.state.locationOptions);\r\n    })\r\n    }})     \r\n  }\r\n\r\n    render(){\r\n        return (\r\n            <div>  \r\n            <Select className=\"form-group\"\r\n              ref={ref => {\r\n                this.selectRef = ref;\r\n              }}\r\n              defaultValue=\"Select Location\"\r\n              name=\"location\"\r\n              placeholder = \"Select Location...\"\r\n              options={this.state.locationOptions}\r\n              onMouseEnter={this.focus}\r\n              onChange = {this.handleChange}/>\r\n            </div>\r\n\r\n                   \r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}