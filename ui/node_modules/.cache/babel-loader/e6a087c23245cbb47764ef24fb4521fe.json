{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaumudi\\\\Desktop\\\\project\\\\2020_Farmers_Market\\\\ui\\\\src\\\\components\\\\User\\\\grievance.js\";\nimport React, { Component } from \"react\";\nimport '../images/bgimage.css';\nimport './UserHome.css';\nimport Nav from './nav.js';\nimport Select from 'react-select';\nvar body;\nvar urole;\nvar uname;\nvar uid;\nvar status;\nvar result;\nlet token = \"\";\n\nclass Grievance extends Component {\n  constructor(props) {\n    super(props);\n\n    this.focus = () => {\n      console.log(this.selectRef);\n      this.selectRef.focus();\n    };\n\n    this.handleDescriptionChange = event => {\n      this.setState({\n        description: event.target.value\n      });\n    };\n\n    this.state = {\n      uid: this.props.match.params.id,\n      role: this.props.match.params.role,\n      subject: '',\n      decription: '',\n      subjectOptions: [{\n        'label': 'Advance payment delay',\n        'value': 'Advance payment delay'\n      }, {\n        'label': 'Crop delivery delay',\n        'value': 'Crop delivery delay'\n      }, {\n        'label': 'Total payable amount calculation',\n        'value': 'Total payable amount calculation'\n      }, {\n        'label': 'Advance Payment Delay',\n        'value': 'Advance Payment Delay'\n      }, {\n        'label': 'Suggestion to improve',\n        'value': 'Suggestion to improve'\n      }, {\n        'label': 'Other',\n        'value': 'Other'\n      }]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n    this.handleSubjectChange = this.handleSubjectChange.bind(this);\n  }\n\n  handleSubjectChange(selectedOption) {\n    console.log(selectedOption.value);\n    this.setState({\n      subject: selectedOption.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(this.state);\n    var body = {\n      subject: this.state.subject,\n      description: this.state.description\n    };\n    console.log(body);\n\n    if (this.state.subject == \"\") {\n      alert('Please enter the subject');\n    } else if (this.state.description == \"\") {\n      alert('Please enter the description');\n    } else {\n      const url = \"http://localhost:9000/mailToAdmin/\" + this.state.uid;\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => {\n        if (response.ok) {\n          result = response.json().then(result => {\n            alert(\"Email sent to admin. Thank you.\");\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      uid: this.state.user,\n      role: this.state.role,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"auth-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"GRIEVANCE\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Write to us and our admin will respond to you soon.\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Select, {\n      ref: ref => {\n        this.selectRef = ref;\n      },\n      name: \"subject\",\n      placeholder: \"Select a subject\",\n      options: this.state.subjectOptions,\n      onMouseEnter: this.focus,\n      onChange: this.handleSubjectChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"textarea\", {\n      rows: \"5\",\n      cols: \"70\",\n      className: \"form-control\",\n      name: \"description\",\n      placeholder: \"Let us know the details of your complaint.\",\n      onChange: this.handleDescriptionChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block btn-lg\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"SEND\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Grievance;","map":{"version":3,"sources":["C:/Users/Kaumudi/Desktop/project/2020_Farmers_Market/ui/src/components/User/grievance.js"],"names":["React","Component","Nav","Select","body","urole","uname","uid","status","result","token","Grievance","constructor","props","focus","console","log","selectRef","handleDescriptionChange","event","setState","description","target","value","state","match","params","id","role","subject","decription","subjectOptions","handleSubmit","bind","handleSubjectChange","selectedOption","preventDefault","alert","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","ok","json","render","user","ref"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport '../images/bgimage.css';\r\nimport './UserHome.css'\r\nimport Nav from './nav.js';\r\nimport Select from 'react-select';\r\n\r\nvar body;\r\nvar urole;\r\nvar uname;\r\nvar uid;\r\nvar status;\r\nvar result;\r\nlet token=\"\";\r\n\r\nclass Grievance extends Component{\r\n\r\n  selectRef: ElementRef<*>;\r\n  focus = () => {\r\n    console.log(this.selectRef);\r\n    this.selectRef.focus();\r\n  };\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      uid : this.props.match.params.id,\r\n      role : this.props.match.params.role,\r\n      subject : '',\r\n      decription: '',\r\n      subjectOptions : [\r\n        {'label':'Advance payment delay', 'value':'Advance payment delay'},\r\n        {'label':'Crop delivery delay', 'value':'Crop delivery delay'},\r\n        {'label':'Total payable amount calculation', 'value':'Total payable amount calculation'},\r\n        {'label':'Advance Payment Delay', 'value':'Advance Payment Delay'},\r\n        {'label':'Suggestion to improve', 'value':'Suggestion to improve'},\r\n        {'label':'Other', 'value':'Other'},\r\n      ],\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\r\n    this.handleSubjectChange = this.handleSubjectChange.bind(this);\r\n  }\r\n\r\n  handleSubjectChange(selectedOption){\r\n    console.log(selectedOption.value);\r\n    this.setState({\r\n      subject : selectedOption.value\r\n    });\r\n  }\r\n\r\n  handleDescriptionChange = event => {\r\n    this.setState({\r\n      description : event.target.value\r\n    })\r\n  } \r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    console.log(this.state)\r\n    var body = {\r\n      subject : this.state.subject,\r\n      description : this.state.description,\r\n    }\r\n    console.log(body);\r\n    if(this.state.subject==\"\"){\r\n      alert('Please enter the subject')\r\n\r\n    }\r\n    else if(this.state.description==\"\"){\r\n      alert('Please enter the description')\r\n    }\r\n    \r\n    else{\r\n      const url = \"http://localhost:9000/mailToAdmin/\"+this.state.uid;\r\n      let headers = new Headers();\r\n  \r\n      headers.append('Content-Type','application/json');\r\n      headers.append('Accept','application/json');\r\n      headers.append('Access-Control-Allow-origin',url);\r\n      headers.append('Access-Control-Allow-Credentials','true');\r\n      headers.append('POST','GET');\r\n  \r\n      fetch(url, {\r\n        headers: headers,\r\n        method: 'POST',\r\n        body: JSON.stringify(body)\r\n      })\r\n      .then(response => {if(response.ok){\r\n        result = response.json()\r\n        .then(result => {\r\n          alert(\"Email sent to admin. Thank you.\")             \r\n      })           \r\n      }})\r\n    } \r\n  }\r\n\r\n  render() {\r\n\r\n    return (<div className=\"bg\">\r\n    <Nav uid={this.state.user} role={this.state.role}/>\r\n\r\n        <div className=\"auth-wrapper\">\r\n        <div className=\"auth-inner\">\r\n            \r\n        <form>\r\n            <h1>GRIEVANCE</h1><hr/>\r\n            <h3>Write to us and our admin will respond to you soon.</h3>\r\n            <div className=\"form-group\">\r\n            <Select\r\n                ref={ref => {\r\n                    this.selectRef = ref;\r\n                }}\r\n                name=\"subject\"\r\n                placeholder = \"Select a subject\"\r\n                options={this.state.subjectOptions}\r\n                onMouseEnter={this.focus}\r\n                onChange = {this.handleSubjectChange}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <textarea rows = \"5\" cols = \"70\" className=\"form-control\" name = \"description\" \r\n                placeholder = \"Let us know the details of your complaint.\" onChange={this.handleDescriptionChange}/><br/>\r\n            </div>             \r\n\r\n            <button type=\"submit\" className=\"btn btn-primary btn-block btn-lg\" onClick={this.handleSubmit}>SEND</button>\r\n        </form>\r\n        </div>\r\n        <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>\r\n        </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\nexport default Grievance;"]},"metadata":{},"sourceType":"module"}